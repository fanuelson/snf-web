<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui"
	template="/template/layout.xhtml">
	<c:metadata>
		<c:event listener="#{permissaoController.permissaoCaixaEGerente()}" type="preRenderView" />
	</c:metadata>
	<ui:define name="corpoLayout">

		<p:growl id="msgs" showDetail="false" autoUpdate="true" />

		<h:form id="cadastroServicoForm">
			<h:panelGrid style="width:60%;margin:auto;border:1px solid black;padding:20px">
				<h3>#{msg['label.cadastro.servico']}</h3>
				<hr />

				<p:outputLabel for="nome" value="#{msg['label.campo.nome']}" />
				<p:inputText size="30" required="true" id="nome" value="#{cadastroServicoController.cadastroServicoVM.servico.nome}" />

				<p:outputLabel value="#{msg['label.campo.descricao']}" for="descricao" />
				<p:inputTextarea id="descricao" value="#{cadastroServicoController.cadastroServicoVM.servico.descricao}" />

				<p:outputLabel value="#{msg['label.campo.funcionario']}" for="funcionario" />
				<p:selectOneMenu style="width:300px" id="funcionario" required="true" converter="funcionarioConverter"
					value="#{cadastroServicoController.cadastroServicoVM.servico.funcionario}">
					<c:selectItem itemLabel="-Selecione-" itemValue="#{null}" noSelectionOption="true"  />
					<c:selectItems value="#{cadastroServicoController.funcionarios}" var="funcionario" itemValue="#{funcionario}"
						itemLabel="#{funcionario.nome}" />
				</p:selectOneMenu>

				<p:outputLabel value="#{msg['label.campo.valor']}" for="valor" />
				<h:inputText style="font-size:18px;" id="valor" value="#{cadastroServicoController.cadastroServicoVM.servico.valor}"
					size="10" required="true" type="number" converterMessage="Preço inválido."
					validatorMessage="Preço deve ser maior ou igual a 0,01">
					<c:convertNumber locale="pt-br" minFractionDigits="2" maxFractionDigits="2" />
					<c:validateDoubleRange minimum="0.1" />
				</h:inputText>

				<p:outputLabel value="#{msg['label.campo.nome.cliente']}" for="nomeCliente" />
				<p:inputText id="nomeCliente" value="#{cadastroServicoController.cadastroServicoVM.servico.nomeCliente}" />

				<p:outputLabel value="#{msg['label.campo.data']}" for="data" />
				<p:calendar required="true" id="data" value="#{cadastroServicoController.cadastroServicoVM.data}"
					pattern="dd/MM/yyyy HH:mm:ss">

				</p:calendar>

				<p:row>
					<p:commandButton style="float:right;margin:20px" value="Salvar" process="cadastroServicoForm"
						action="#{cadastroServicoController.salvar()}" update="msgs cadastroServicoForm" />
					<p:commandButton style="float:right;margin:20px" value="#{msg['label.cancelar']}" process="@this" action="#{commonsController.getPaginaInicial()}" />
				</p:row>
			</h:panelGrid>
		</h:form>

	</ui:define>

</ui:composition>