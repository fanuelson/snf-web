<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui">
	<c:metadata>
		<c:event listener="#{permissaoController.permissaoGerente()}" type="preRenderView" />
	</c:metadata>

	<h:form id="filtroPesquisaServico">
		<p:panelGrid styleClass="botoes" style="margin:auto;margin-top:10px">
			<p:column>
				<p:outputLabel style="display:inherit" value="#{msg['label.campo.funcionario']}" for="funcionario" />
				<p:selectOneMenu style="width:250px" id="funcionario"
					value="#{estatisticaServicoController.estatisticaServicoVM.funcionario}" converter="funcionarioConverter">
					<c:selectItem itemLabel="-Selecione-" noSelectionOption="true" />
					<c:selectItems value="#{estatisticaServicoController.funcionarios}" var="funcionario" itemValue="#{funcionario}"
						itemLabel="#{funcionario.nome}" />
				</p:selectOneMenu>
			</p:column>
			<p:column>
				<p:outputLabel style="display:inherit" value="#{msg['label.campo.data.inicial']}" for="dataInicial" />
				<p:calendar required="true" id="dataInicial"
					value="#{estatisticaServicoController.estatisticaServicoVM.dataInicial}" pattern="dd/MM/yyyy" />
			</p:column>
			<p:column>
				<p:outputLabel style="display:inherit" value="#{msg['label.campo.data.final']}" for="dataFinal" />
				<p:calendar required="true" styleClass="botoes" id="dataFinal"
					value="#{estatisticaServicoController.estatisticaServicoVM.dataFinal}" pattern="dd/MM/yyyy" />
			</p:column>
			<p:column>
				<p:commandButton onstart="PF('statusDialog').show()" oncomplete="PF('statusDialog').hide()" style="padding:8px" value="#{msg['label.pesquisar']}" process="@this filtroPesquisaServico"
					action="#{estatisticaServicoController.pesquisar()}" update="grafico painelCalculo" />
			</p:column>
		</p:panelGrid>

		<h:panelGrid id="painelCalculo" styleClass="botoes" columns="3" style="margin:auto;margin-top:15px">
			<p:outputLabel value="#{msg['label.campo.soma.total']}" />
			<h:outputLabel id="calculo" value="#{estatisticaServicoController.valorTotalPesquisa}">
				<c:convertNumber locale="pt-br" minFractionDigits="2" maxFractionDigits="2" />
			</h:outputLabel>
			<p:commandButton style="margin-left:10px" value="#{msg['label.calcular']}"
				action="#{estatisticaServicoController.calcularValorTotalPesquisa()}" update="calculo" />
		</h:panelGrid>

	</h:form>

</ui:composition>